---
date: 2016-09-13T09:00:00+00:00
title: Vamp components and architecture
---
Vamp  consists of server- and client-side components that work together with elements in your architecture to handle orchetstration, routing, persistence and big data aggregation.

## Vamp  
Vamp is the main API endpoint, business logic and service coordinator. Vamp talks to the configured container manager (Docker, Marathon, Kubernetes etc.) and synchronizes it with Vamp Gateway Agent (VGA)  via ZooKeeper, etcd or Consul. Vamp uses Elasticsearch for artifact persistence and to store events (e.g. changes in deployments).

## Vamp Gateway Agent (VGA)  
Vamp Gateway Agent (VGA) reads the HAProxy configuration from ZooKeeper, etcd or Consul and reloads HAProxy on each configuration change with as close to zero client request interruptions as possible.    
Logs from HAProxy are read over socket and pushed to Logstash over UDP.  VGA will handle and recover from ZooKeeper, etcd, Consul and Logstash outages without interrupting the HAProxy process and client requests.  
{{< note title="Note!" >}}
VGA requires HAProxy. At the moment HAProxy configuration is fully generated by Vamp, that means VGA requires a dedicated HAProxy installation. Later we plan to support combining custom (non-Vamp) configuration as well.
More detailed information about building VGA from source and configuration can be found on the gitHub project page ([github.com/magneticio - Vamp Gateway Agent](https://github.com/magneticio/vamp-gateway-agent)).
{{< /note >}}

## Vamp UI  
The Vamp UI is a graphical web interface for managing Vamp in a web browser. Packaged with Vamp.

## Vamp CLI  
Vamp CLI is a command line interface for managing Vamp and providing integration with (shell) scripts.

## Your architecture

Vamp and the Vamp Gateway Agent require specific elements in your architecture to handle orchetstration, routing, persistence and big data aggregation. There is no set architecture required for running Vamp and every use case or specific combination of tools and platforms can have its own set up.

We have provided some [example architectures](/resources/how-vamp-works/example-architectures/) to give you an idea how a typical setup might look.

![components](/images/diagram/vamp-components-generic.svg)