---
date: 2016-03-09T19:56:50+01:00
title: Architecture and components
---

[back to resources page](/resources/)

The Vamp platform consists of server and client side components. Before installing, it is helpful to understand the role of each component and its preferred location in a typical architecture.

## Architecture

{{< note title="note!" >}}
The below diagram should be used more as an overview than required architecture. Here we also include Mesos/Marathon stack even though it is not a hard dependency.

{{< /note >}}

![diagram](http://vamp.io/img/vamp_arch.svg)


## Components

### Vamp

Main API endpoint, business logic and service coordinator. Talks to the configured container manager (Docker, Marathon etc.) and synchronizes it with Vamp Gateway Agent via ZooKeeper, etcd or Consul. Uses Elasticsearch for artifact persistence and to store Vamp events (e.g. changes in deployments).

### Vamp Gateway Agent

Reads the HAProxy configuration from ZooKeeper, etcd or Consul and reloads the HAProxy on each configuration change with as close to zero client request interruptions as possible. Reads the logs from HAProxy over socket and pushes them to Logstash (not presented on the diagram above) over UDP. Handles and recovers from ZooKeeper, etcd, Consul and Logstash outages without interrupting the HAProxy process and client requests.

{{< note title="note!" >}}
 Vamp Gateway Agent (VGA) requires HAProxy and at the moment HAProxy configuration is fully generated by Vamp. That means VGA requires dedicated HAProxy installation. Later we plan to support combining custom (non-Vamp) configuration as well.
More detailed information about building VGA from source and configuration can be found on the project page.
{{< /note >}}

### Vamp UI

Graphical web interface for managing Vamp in a web browser. Packaged with Vamp.

### Vamp CLI

Command line interface for managing Vamp and providing integration with (shell) scripts.


[back to resources page](/resources/)