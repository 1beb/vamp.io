---
date: 2016-09-13T09:00:00+00:00
title: Vamp components
---
Vamp works together with four key components; orchetstration, routing, persistence and big data.

![components](/images/diagram/Vamp-components.svg)

### Vamp 

Vamp consists of server- and client-side components. 

* Vamp  
The main API endpoint, business logic and service coordinator. Vamp talks to the configured container manager (Docker, Marathon, Kubernetes etc.) and synchronizes it with Vamp Gateway Agent via ZooKeeper, etcd or Consul. Vamp uses Elasticsearch for artifact persistence and to store events (e.g. changes in deployments).

* Vamp Gateway Agent (VGA)  
Reads the HAProxy configuration from ZooKeeper, etcd or Consul and reloads HAProxy on each configuration change with as close to zero client request interruptions as possible.  Reads the logs from HAProxy over socket and pushes them to Logstash (not presented on the diagram above) over UDP.  Handles and recovers from ZooKeeper, etcd, Consul and Logstash outages without interrupting the HAProxy process and client requests.  
**Note** VGA requires HAProxy. At the moment HAProxy configuration is fully generated by Vamp, that means VGA requires a dedicated HAProxy installation. Later we plan to support combining custom (non-Vamp) configuration as well.
More detailed information about building VGA from source and configuration can be found on the [project page](https://github.com/magneticio/vamp-gateway-agent).

*  Vamp UI  
The graphical web interface for managing Vamp in a web browser. Packaged with Vamp.

* Vamp CLI  
The command line interface for managing Vamp and providing integration with (shell) scripts.

### Orchestration

Vamp works with your choice of orchestration platform. Currently we support Kubernetes, DC/OS and Rancher.

### Persistence

Vamp uses Zookeeper as a key value store and elasticsearch for persistence. 

### Routing

### Big data

Vamp aggregates metrics for use in workflow analysis and logs API events. 

--------

* [Example architecture](/resources/how-vamp-works/example-architectures/)