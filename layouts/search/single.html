{{- $.Scratch.Add "search" slice -}}
{{- range where .Site.Pages "Type" "not in"  (slice "page" "version" "search") -}}
{{- $.Scratch.Add "search" (dict "title" .Title "location" (substr (.Permalink | relURL) 1) "tags" .Params.tags "content" .Plain) -}}
{{- end -}}
{
  "docs": {{- $.Scratch.Get "search" | jsonify -}}
}
